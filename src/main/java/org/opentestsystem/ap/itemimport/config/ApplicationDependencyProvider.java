package org.opentestsystem.ap.itemimport.config;

import lombok.Getter;
import org.opentestsystem.ap.common.assembler.AppAssembler;
import org.opentestsystem.ap.common.client.GitClientFactory;
import org.opentestsystem.ap.common.client.GitlabClient;
import org.opentestsystem.ap.common.config.ItemBankProperties;
import org.opentestsystem.ap.common.repository.ItemRepository;
import org.opentestsystem.ap.common.repository.RepositoryDependencyProvider;
import org.springframework.stereotype.Component;

@Getter
@Component
public class ApplicationDependencyProvider {

    private final GitClientFactory gitClientFactory;

    private final ItemBankProperties itemBankProperties;

    private final AppProps appProps;

    private final GitlabClient gitlabClient;

    private final ItemRepository itemRepository;

    private final AppAssembler appAssembler;

    public ApplicationDependencyProvider(final RepositoryDependencyProvider repositoryDependencyProvider,
                                         final AppProps appProps,
                                         final ItemRepository itemRepository,
                                         final AppAssembler appAssembler) {
        this.gitlabClient = repositoryDependencyProvider.getGitlabClient();
        this.itemBankProperties = repositoryDependencyProvider.getItemBankProperties();
        this.appProps = appProps;
        this.itemRepository = itemRepository;
        this.gitClientFactory = repositoryDependencyProvider.getGitClientFactory();
        this.appAssembler = appAssembler;
    }
}
