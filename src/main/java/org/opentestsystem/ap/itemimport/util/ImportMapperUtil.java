package org.opentestsystem.ap.itemimport.util;

import lombok.extern.slf4j.Slf4j;
import org.opentestsystem.ap.common.saaif.item.ItemRelease;
import org.springframework.stereotype.Component;

@Slf4j
@Component
public class ImportMapperUtil {

    private static final char CAPITAL_A = 'A';

    public static String getCapitalLetterFromInt(int value) {
        return Character.toString((char) (value + CAPITAL_A));
    }

    public static int getIntFromLowerCaseLetter(char letter) {
        return Character.getNumericValue(letter) - 9;
    }

    public static String getAttributeValue(ItemRelease release, String attributeName) {
        String value = "";
        ItemRelease.Item.Attriblist.Attrib answerAttrib = release.getItem().getAttriblist()
                .getAttrib().stream()
                .filter(k -> attributeName.equals(k.getAttid()))
                .findAny()
                .orElse(null);

        if (null != answerAttrib) {
            value = answerAttrib.getVal();
        }
        return value;
    }

}
